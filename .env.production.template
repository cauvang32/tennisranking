# ðŸŽ¾ Tennis Ranking System - Production Environment
# Copy this to .env.production and update with your production values

# Domain Configuration for Nginx Proxy Manager
PUBLIC_DOMAIN=mydomain.com
BASE_PATH=/tennis
# This will make your app available at https://mydomain.com/tennis

# Database Configuration (PostgreSQL - Production)
DB_NAME=tennis_ranking_prod
DB_USER=tennis_user_prod
DB_PASSWORD=your_secure_production_db_password
DB_HOST=localhost
DB_PORT=5432

# Admin Authentication (CHANGE THESE!)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your_very_secure_admin_password_123!
ADMIN_EMAIL=admin@mydomain.com

# Security Secrets (GENERATE NEW ONES!)
JWT_SECRET=your_production_jwt_secret_32_characters_minimum_length_required
CSRF_SECRET=your_production_csrf_secret_32_characters_minimum_length_required

# Server Configuration
PORT=3001
NODE_ENV=production

# Proxy Configuration (For NPM)
TRUST_PROXY=true
BEHIND_PROXY=true

# Rate Limiting Configuration (Production)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_API_MAX=500

# Disable rate limiting completely (supports both spellings)
DISABLE_RATE_LIMITING=false
# DISABLE_RATELIMITING=false

# Dynamic Rate Limiting (CPU/RAM pressure-based)
# Notes:
# - CPU% is estimated from 1-minute load average / CPU cores.
# - When CPU/RAM exceed thresholds, effective limits are multiplied by the scale.
RATE_LIMIT_DYNAMIC_ENABLED=true
RATE_LIMIT_DYNAMIC_SAMPLE_MS=5000

RATE_LIMIT_CPU_HIGH_PCT=80
RATE_LIMIT_CPU_CRITICAL_PCT=95
RATE_LIMIT_RAM_HIGH_PCT=85
RATE_LIMIT_RAM_CRITICAL_PCT=95

RATE_LIMIT_DYNAMIC_SCALE_HIGH=0.7
RATE_LIMIT_DYNAMIC_SCALE_CRITICAL=0.4
RATE_LIMIT_DYNAMIC_MIN_SCALE=0.2

# CORS Settings (Production - Add your domain)
ALLOWED_ORIGINS=https://mydomain.com,https://www.mydomain.com

# SSL Configuration
FORCE_HTTPS=true
